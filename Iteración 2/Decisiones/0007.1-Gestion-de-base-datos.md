# Elección del patrón para el acceso a la base de datos

* **Status:** Aprobado  
* **Fecha:** 07/05/2025  
* **Decision-Makers:** Alejandro Rico, Elena Ceinos  
* **Consulted:** Gaizka Aranbarri, Alberto Acebes  
* **Informed:** Jon Mazcuñán, Daniel Rong, Pablo Villamayor  

---

## Contexto y Declaración del Problema

Durante la migración de una arquitectura monolítica a una basada en microservicios, se requiere un patrón de acceso a datos que garantice **flexibilidad**, **escalabilidad**, y **desacoplamiento**. Se deben crear microservicios independientes que manejen sus propios modelos de datos, respetando los principios de bajo acoplamiento y alta cohesión.

---

##  Drivers de Decisión

- **RF-01:** Acceso seguro y eficiente desde cada microservicio.  
- **RD-02:** Reducción del acoplamiento entre lógica de negocio y datos.  
- **NF-03:** Soporte para pruebas unitarias.  
- **RF-04:** Capacidad de evolucionar a bases de datos distribuidas.

---

##  Opciones Consideradas

### **DB-1: Repository Pattern**
- **Bueno:** Abstracción clara entre negocio y datos, facilita pruebas.
- **Malo:** Aumenta la complejidad inicial.

### **DB-2: Active Record Pattern**
- **Bueno:** Simplicidad de implementación.
- **Malo:** Acopla el modelo de dominio a la persistencia.

### **DB-3: DAO Pattern**
- **Bueno:** Separación completa entre capas.
- **Malo:** Mayor código repetitivo y complejidad en arquitecturas pequeñas.

---

## Decisión Final

**Elegido:** `DB-1: Repository Pattern`  
Se usará en conjunto con un ORM (Entity Framework en C#, Hibernate en Java, etc.) para desacoplar la lógica de acceso a datos del resto del microservicio.

---
